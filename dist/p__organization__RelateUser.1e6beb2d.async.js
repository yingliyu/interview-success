(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{"4uDA":function(e,t,r){"use strict";r.r(t);var n=r("9og8"),a=r("WmNS"),i=r.n(a),o=r("q1tI"),d=r("4+0c"),c=r("9SoD"),u=r("pn+7"),s=r("Ymrs"),l={type:"object",properties:{user_name:{type:"array",title:"\u7528\u6237\u540d","x-validator":[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}],"x-decorator":"FormItem","x-component":"ABSSearch","x-component-props":{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",type:s["d"].expert,style:{width:300}}},nick_name:{type:"string",title:"\u771f\u5b9e\u59d3\u540d","x-validator":[{required:!0,message:"\u8bf7\u8f93\u5165\u771f\u5b9e\u59d3\u540d"}],"x-disabled":!0,"x-decorator":"FormItem","x-component":"Input","x-reactions":"{{updateNickName}}","x-component-props":{style:{width:300}}},company:{type:"string",title:"\u516c\u53f8","x-disabled":!0,"x-decorator":"FormItem","x-component":"Input","x-reactions":"{{updateCompany}}","x-component-props":{style:{width:300}}},role_name:{type:"string",title:"\u89d2\u8272","x-decorator":"FormItem","x-component":"Select",enum:[{label:"\u7ba1\u7406\u5458",value:"\u7ba1\u7406\u5458"},{label:"\u7528\u6237",value:"\u7528\u6237"}],"x-validator":[{required:!0,message:"\u8bf7\u9009\u62e9\u89d2\u8272"}],"x-component-props":{placeholder:"\u8bf7\u9009\u62e9\u89d2\u8272",style:{width:300}}}}},p=l,m=r("Ytw1"),h=r("nKUr"),x=m["a"].formatTime,f=function(e,t,r){var n=[{value:e,text:t,desc:""}];return[{title:"\u59d3\u540d",dataIndex:"nick_name",width:80,fieldProps:{placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d"},search:{transform:function(e){return{NickName:e}}}},{title:"\u7528\u6237\u540d",dataIndex:"user_name",width:110,order:1,fieldProps:{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"},search:{transform:function(e){return{UserName:e}}}},{title:"\u673a\u6784\u540d",dataIndex:"company",width:100,ellipsis:!0,order:3,initialValue:n,hideInTable:!0,renderFormItem:function(){return Object(h["jsx"])(d["z"],{placeholder:"\u8bf7\u8f93\u5165\u673a\u6784\u540d",type:s["d"].organization})}},{title:"\u516c\u53f8",dataIndex:"enterprise_name",width:100,hideInForm:!0},{title:"\u7248\u672c",dataIndex:"enterprise_type_id",width:80,hideInTable:!0,valueType:"select",order:2,valueEnum:{3:{text:"\u6536\u8d39\u7248",status:3},1:{text:"\u6559\u80b2\u7248",status:1}},render:function(e,t){var r=t.enterprise_type_id;return 1===r?"\u6559\u80b2\u7248":"\u6536\u8d39\u7248"},search:{transform:function(e){return{EnterpriseTypeId:e}}},fieldProps:{placeholder:"\u8bf7\u9009\u62e9\u7248\u672c"}},{title:"\u89d2\u8272",dataIndex:"role_name",width:80,valueEnum:{"\u7ba1\u7406\u5458":{text:"\u7ba1\u7406\u5458",status:"admin"},"\u7528\u6237":{text:"\u7528\u6237",status:"user"}},search:{transform:function(e){return{RoleName:e}}}},{title:"\u90e8\u95e8",dataIndex:"department",width:100,hideInSearch:!0},{title:"\u804c\u4f4d",dataIndex:"position",width:100,hideInSearch:!0},{title:"\u64cd\u4f5c\u65f6\u95f4",dataIndex:"create_time",width:100,hideInSearch:!0,render:function(e){return x(e)}},{title:"\u64cd\u4f5c",dataIndex:"x",valueType:"option",width:80,fixed:"right",hideInSearch:!0,render:function(e,t){var n=t.user_id,a=t.enterprise_id;return Object(h["jsx"])(d["r"],{itemSource:[{text:"\u79fb\u9664",onClick:function(){return r(n,a)}}]})}}]},v=f,w=d["d"].confirm,I=function(){var e=Object(o["useRef"])(),t=u["a"].getParams(),r=t.id,a=t.name,s=function(t,r){w({content:"\u786e\u8ba4\u79fb\u9664\u8be5\u7528\u6237\uff1f",onOk:function(){return Object(n["a"])(i.a.mark((function n(){var a;return i.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a={user_id:t,enterprise_id:r},n.next=3,Object(c["c"])(a);case 3:e.current.reload();case 4:case"end":return n.stop()}}),n)})))()}})},l=function(){var t=Object(n["a"])(i.a.mark((function t(n,a){var o,d,u,s,l;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return d=n.values,u=d.user_name,s=d.role_name,l={user_id:null===(o=u[0])||void 0===o?void 0:o.value,enterprise_id:r,role_name:s},t.next=4,Object(c["a"])(l);case 4:a(),e.current.reload();case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),m=function(e){var t=e.query("user_name").take();if(t){var r=t.value||"";if(r.length){var n=r[0].extra;return n}}},x=function(e){var t;e.value=null===(t=m(e))||void 0===t?void 0:t.nick_name},f=function(e){var t;e.value=null===(t=m(e))||void 0===t?void 0:t.company},I=function(){return Object(h["jsx"])(d["j"],{schema:p,scope:{updateNickName:x,updateCompany:f},title:"\u65b0\u5efa",onConfirm:l,children:"\u65b0\u5efa"})};return Object(h["jsx"])(d["v"],{children:Object(h["jsx"])(d["x"],{actionRef:e,rowKey:"user_id",columns:v(r,a,s),request:function(e){return Object(c["e"])(e,r)},pagination:{pageSize:10},search:{labelWidth:70,defaultCollapsed:!0},title:"\u7528\u6237\u5217\u8868",toolBarRender:I})})};t["default"]=I}}]);