(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"+h2O":function(e,a,t){},F0Sz:function(e,a,t){"use strict";t.r(a);var n=t("k1fw"),r=t("9og8"),i=t("tJVT"),c=t("WmNS"),d=t.n(c),o=t("q1tI"),l=(t("+h2O"),t("9kvl")),u=t("Qiat"),s=t("4+0c"),p=t("CiB2"),f=t("Ytw1"),w=t("uw4f"),h=t("55Ip");function m(e){for(var a=[],t=0;t<e.length;t++){var n=e[t],r=n.conference_id,i=n.title;a.push({value:r,title:i})}return a}var v=t("nKUr"),g=function(e,a){var t=e||{},n=t.dispatch,r=t.awardList,i=t.awardTypes,c=t.awardNames,d=t.awardDetails,o=t.conferences,l=r||{},u=l.current_page,g=void 0===u?1:u,y=l.page_size,x=void 0===y?10:y;if(!Array.isArray(o)||0===o.length)return[];var b=m(o),j=[{title:"\u5e8f\u53f7",dataIndex:"Id",fixed:!0,width:60,hideInSearch:!0,render:function(e,a,t){return t+1+(g-1)*x}},{title:"\u4f1a\u8baeID",dataIndex:"conference_id",fixed:!0,width:150,initialValue:o[0].conference_id,valueEnum:b,filters:[],renderFormItem:function(e,a,t){Object(p["a"])(a);var r=function(e){n({type:"award/getAwardOptions",payload:{conference_id:e}}),t.resetFields(["awardType","awardName"]),b.forEach((function(a){var n=a||{},r=n.value;r===e&&t.setFieldsValue({conference_id:r})}))};return Object(v["jsx"])(s["A"],{defaultValue:o[0].conference_id,options:b,placeholder:"\u8bf7\u9009\u62e9",onChange:r})},hideInTable:!0},{title:"\u5956\u9879\u5206\u7c7b",dataIndex:"awardType",fixed:!0,width:110,valueEnum:i,filters:[],ellipsis:!0,render:function(e,a){var t=a||{},n=t.AwardDesc,r=void 0===n?"":n;return r.toString().split("--")[0]},renderFormItem:function(e,a,t){Object(p["a"])(a);var r=function(e){n({type:"award/getAwardNames",payload:e}),t.resetFields(["awardName","awardDetail"]),i.forEach((function(a){var n=a||{},r=n.value,i=n.title;r===e&&t.setFieldsValue({awardType:i})}))};return Object(v["jsx"])(s["A"],{options:i,placeholder:"\u8bf7\u9009\u62e9",onChange:r})}},{title:"\u5956\u9879\u540d\u79f0",dataIndex:"awardName",fixed:!0,width:150,valueEnum:c,filters:[],ellipsis:!0,render:function(e,a){var t=a||{},n=t.AwardDesc,r=void 0===n?"":n;return r.toString().split("--")[1]},renderFormItem:function(e,a,t){Object(p["a"])(a);var r=function(e){n({type:"award/getAwardDetails",payload:e}),t.resetFields(["awardDetail"]),c.forEach((function(a){var n=a||{},r=n.value,i=n.title;r===e&&t.setFieldsValue({awardName:i})}))};return Object(v["jsx"])(s["A"],{options:c,placeholder:"\u8bf7\u9009\u62e9",onChange:r})}},{title:"\u5956\u9879\u5b50\u7c7b",dataIndex:"awardDetail",fixed:!0,width:150,valueEnum:d,filters:[],ellipsis:!0,render:function(e,a){var t=a||{},n=t.AwardDesc,r=void 0===n?"":n,i=r.toString().split("--");return i.length>2?i[2]:""},renderFormItem:function(e,a,t){Object(p["a"])(a);var n=function(e){d.forEach((function(a){var n=a||{},r=n.value,i=n.title;r===e&&t.setFieldsValue({awardDetail:i})}))};return Object(v["jsx"])(s["A"],{options:d,placeholder:"\u8bf7\u9009\u62e9",onChange:n})}},{title:"\u673a\u6784\u540d\u79f0",dataIndex:"OrgName",width:100,hideInSearch:!0},{title:"\u8054\u7cfb\u4eba",dataIndex:"ContactName",valueType:"textarea",width:110,hideInSearch:!0},{title:"\u8054\u7cfb\u7535\u8bdd",dataIndex:"ContactPhone",valueType:"textarea",width:110,hideInSearch:!0},{title:"\u7533\u62a5\u65f6\u95f4",dataIndex:"Timestamp",valueType:"dateRange",width:110,render:function(e,a){return f["a"].formatDate(a.Timestamp)}},{title:"\u64cd\u4f5c",dataIndex:"Id",valueType:"option",width:80,render:function(e,t){return Object(v["jsx"])(h["a"],{to:{pathname:w["a"].awardDetail,state:{params:{id:t.Id,conferenceId:a}}},children:"\u67e5\u770b"})}}];return j},y=g,x=function(e){var a=e.dispatch,t=Object(o["useRef"])(),c=Object(o["useState"])("null"),l=Object(i["a"])(c,2),p=l[0],f=l[1];Object(o["useEffect"])((function(){a({type:"award/getConferenceOptions",payload:null}).then((function(e){Array.isArray(e)&&e.length>0&&(f(e[0].conference_id),a({type:"award/getAwardOptions",payload:{conference_id:e[0].conference_id}}))}))}),[]);var w=function(){var e=Object(r["a"])(d.a.mark((function e(t){var r,c,o,l,u,s,p,f,w,h,m,v,g,y,x,b,j,O;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t||{},c=r.Timestamp,o=void 0===c?[]:c,l=o||[],u=Object(i["a"])(l,2),s=u[0],p=void 0===s?null:s,f=u[1],w=void 0===f?null:f,t.awardType&&"\u6240\u6709\u5956\u9879"===t.awardType&&delete t.awardType,t.awardName=t.awardDetail||t.awardName,h=Object(n["a"])(Object(n["a"])({},t),{},{start:p,end:w}),e.next=7,a({type:"award/getAwardList",payload:h});case 7:return m=e.sent,v=m||{},g=v.items,y=void 0===g?[]:g,x=v.current_page,b=void 0===x?1:x,j=v.total_items,O=void 0===j?0:j,e.abrupt("return",{data:y,current:b,total:O});case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),h=function(e){var a=e.conference_id;f(a)},m=function(){a({type:"award/getAwardExport"})},g=Object(v["jsx"])(s["b"],{type:"primary",block:!0,onClick:m,children:"\u5bfc\u51fa\u8868\u683c"});return Object(v["jsx"])(s["v"],{className:"award-list",children:"null"!==p?Object(v["jsx"])(u["a"],{rowKey:"Id",actionRef:t,pagination:{pageSize:10},headerTitle:g,options:!1,params:{conference_id:p},request:w,columns:y(e,p),scroll:{x:1300},search:{span:12},onSubmit:h}):null})},b=function(e){var a=e.award,t=a||{},n=t.awardList,r=t.awardTypes,i=t.awardNames,c=t.awardDetails,d=t.conferences;return{awardList:n,awardTypes:r,awardNames:i,awardDetails:c,conferences:d}};a["default"]=Object(l["a"])(b)(x)},uw4f:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var n=t("fWQN"),r=function e(){Object(n["a"])(this,e)};r.home="/home",r.userSetting="/api/user/setting",r.apiAuthorize="/api/apilist/authorize",r.awardDetail="/award/list/detail",r.vipAuthorizeCreate="/vip/authorize/create",r.product=function(e){return"".concat("http://192.168.15.221:10000/app","/product.html#/detail/basic-info?deal_id=").concat(e)},r.organization=function(e){return"".concat("http://192.168.15.221:10000/app","/organization.html#/detail/info?organization_id=").concat(e)},r.expert=function(e){return"".concat("http://192.168.15.221:10000/app","/expert.html#/resume?id=").concat(e)},r.accountLog=function(e,a){return"/account/list/log?id=".concat(e,"&name=").concat(a)},r.realNameDetail=function(e,a){return"/account/realname/detail?id=".concat(e,"&name=").concat(a)},r.orgLog=function(e,a){return"/organization/list/log?id=".concat(e,"&name=").concat(a)},r.orgRelateUser=function(e,a){return"/organization/list/user?id=".concat(e,"&name=").concat(a)}}}]);